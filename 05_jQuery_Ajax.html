<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>jQuery Ajax</title>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <style>
        #result {
            margin-top : 20px;

        }
    </style>
</head>
<body>
    <h1>AJAX 요청</h1>
    <div id="result">데이터 표시할 공간</div>
    <button id="dataLoading">데이터 가져오기</button>

    <script>
        // console = website 에서 F12
        $('#dataLoading').click(function() {
            $.ajax({
                url : 'https://jsonplaceholder.typicode.com/posts/1', // API url
                method : 'GET',
                // controller 에서 데이터를 주고 받을 때
                /*
                data : {
                    controller로 전달할 이름 : javascript 로 전달받은 id이름,
                },*/
                success :
                    function(data) {
                        /*  $('#result').text('<h3>' + data.title + '</h3>');
                            text : 글자 형태로 출력, html : html 형태로 출력
                        */
                        //$('#result').html('<h3>' + data.title + '</h3>');

                        // 버튼을 클릭했을 때 body를 p 태그 형태로 보여주기
                        // userId는 글자색 orange 색 h1 크기로 가져오기 우선순위 2순위
                        $('#result').html('<h1 style="color:orange;">' + data.userId + '</h1>');
                        $('#result').html('<h3>' + data.title + '</h3>');
                        $('#result').html('<h1 style="color:orange;">' + data.userId + '</h1>'
                            + '<h3>' + data.title + '</h3>'
                            + '<p>' + data.body + '</p>');
                        // h3 태그 내부에 data.title 에서 가져온 제목이 출력

                        /***********************************
                         .append()          = 이어서 작성
                         .html() && .text() = 덮어쓰기
                        ***********************************/
                    }
            })
        })

        /*$(document).ready(function() {
            $.ajax({
                url: '요청할 주소', // controller 에서 url = endpoint = api 주소
                method: 'GET',    // GET POST PUT DELETE
                success:
                    function(data) {
                        console.log("데이터 가져오기 성공!");
                    },
                error:
                    function(error) {
                        console.error('가져오는데 문제가 발생했습니다.');
                    }
            })
        })*/
        /*
            https://jsonplaceholder.typicode.com/
            jsonplaceholder 개발자들이 API 주소를 테스트하거나 학습할 수 있도록 제공하는
            무료 온라인 서비스

            endpoint 주소
            /posts      : 게시물 데이터 제공 주소
                └────── 모든 게시물이 아니라 특정 게시물만 가져오길 원한다면
                        /posts/number
            /comments   : 게시물의 댓글 데이터 제공 주소
            /albums     : 앨범 데이터 제공 주소
            /photos     : 사진 데이터 제공 주소
            /todos      : 할 일 데이터 제공 주소
            /users      : 사용자 데이터 제공 주소
        */
    </script>
</body>
</html>